name: CI - PHP

# ğŸ“… CuÃ¡ndo se ejecuta
on:
  push:
    branches: [ main ]   # Se ejecuta cuando hagas push a la rama main
  pull_request:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      # 1ï¸âƒ£ Clonar el repositorio
      - name: ğŸ“¥ Clonar el repositorio
        uses: actions/checkout@v3

      # 2ï¸âƒ£ Instalar PHP
      - name: ğŸ§° Configurar PHP
        uses: shivammathur/setup-php@v2
        with:
          php-version: '8.2'

      # 3ï¸âƒ£ Validar sintaxis PHP
      - name: âœ… Validar sintaxis PHP
        run: find . -type f -name "*.php" -exec php -l {} \;

      # 4ï¸âƒ£ Mensaje final
      - name: ğŸ‰ Pipeline completado
        run: echo "Pipeline ejecutado correctamente ğŸ¯"
